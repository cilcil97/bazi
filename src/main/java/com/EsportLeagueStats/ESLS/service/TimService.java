package com.EsportLeagueStats.ESLS.service;import com.EsportLeagueStats.ESLS.model.Liga;import com.EsportLeagueStats.ESLS.model.Tim;import com.EsportLeagueStats.ESLS.persistance.TimRepository;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Transactional;import java.util.List;@Servicepublic class TimService  {    private static final Logger logger = LoggerFactory.getLogger(TimService.class);    private final TimRepository repository;    private final LigaService ligaService;    public TimService(TimRepository timRepository, LigaService ligaService) {        this.repository = timRepository;        this.ligaService = ligaService;    }    public List<Tim> findAllTimovi() {        return repository.findAll();    }    public Tim findTimById(int id) {      return  repository.findById(id)              .orElseThrow(() -> new RuntimeException("Timot ne e pronajden vo bazata"));    }    @Transactional    public Tim addTim(String ime, String logo, String lid) {       Liga liga = ligaService.findByIme(lid);       Tim tim = new Tim(ime,logo,liga);       return repository.save(tim);    }}