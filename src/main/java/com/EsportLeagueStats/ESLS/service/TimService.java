package com.EsportLeagueStats.ESLS.service;import com.EsportLeagueStats.ESLS.model.Liga;import com.EsportLeagueStats.ESLS.model.Tim;import com.EsportLeagueStats.ESLS.persistance.TimRepository;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Transactional;import java.util.List;@Servicepublic class TimService  {    private final TimRepository timRepository;    private final LigaService ligaService;    public TimService(TimRepository timRepository, LigaService ligaService) {        this.timRepository = timRepository;        this.ligaService = ligaService;    }    public List<Tim> findAllTimovi() {        return timRepository.findAll();    }    public Tim findTimById(int id) {      return  timRepository.findById(id).orElseThrow(() -> new RuntimeException("Go nema ovoj tim vo databazata"));    }    @Transactional    public Tim addTim(String t_ime, String t_logo, int lid) {       Liga ligaInWhichTeamIsSaved =  ligaService.findLigaById(lid);       Tim tim = new Tim(t_ime,t_logo,ligaInWhichTeamIsSaved);       return timRepository.save(tim);    }}